// src/models/card.ts
/**
 * åéŒ²ã‚«ãƒ¼ãƒ‰ã®æƒ…å ±ã«é–¢ã™ã‚‹å‹å®šç¾©
 */
export interface Card {
  cardId: string; // ã‚«ãƒ¼ãƒ‰ID (ãƒ‘ãƒƒã‚¯å†…ã§ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªé€£ç•ª + ãƒ‘ãƒƒã‚¯IDã§ä¸€æ„)
  packId: string; // åéŒ²ã•ã‚Œã¦ã„ã‚‹ãƒ‘ãƒƒã‚¯ID
  name: string;
  imageUrl: string; // ã‚«ãƒ¼ãƒ‰ç”»åƒã®å‚ç…§URL
  rarity: string; // åéŒ²ã•ã‚Œã¦ã„ã‚‹ãƒ¬ã‚¢ãƒªãƒ†ã‚£å (Pack.rarityConfig.rarityNameã«å¯¾å¿œ)
  userCustom: Record<string, any>; // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ãƒ¼ã‚¿ï¼ˆå±æ€§ã€ã‚³ã‚¹ãƒˆã€ãƒ†ã‚­ã‚¹ãƒˆãªã©ï¼‰
}





// src/models/db-types.ts (ä¿®æ­£ãƒ»è¿½è¨˜)

/**
 * IndexedDB (Dexie) ã«ä¿å­˜ã•ã‚Œã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿å‹å®šç¾©
 */

export interface DBCardPool {
  cardId: string; // ä¸»ã‚­ãƒ¼ã€‚ã©ã®ã‚«ãƒ¼ãƒ‰ã‹ã‚’ç¤ºã™
  count: number;  // æ‰€æœ‰æšæ•°
}

export interface DBSetting {
  key: string; // ä¸»ã‚­ãƒ¼ (ä¾‹: 'coins', 'userSettings')
  value: any;  // ä¿å­˜ã™ã‚‹å€¤ï¼ˆJSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãªã©ï¼‰
}

// ğŸ’¡ ãƒ‡ãƒƒã‚­ï¼ˆdecksãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ã®ãŸã‚ã®å‹
export interface DBDeck {
    deckId: string; // ä¸»ã‚­ãƒ¼
    name: string;
    description: string;
    
    // Map<string, number> ã§ã¯ãªã JSONäº’æ›ã® Record<string, number>
    mainDeck: Record<string, number>; 
    sideDeck: Record<string, number>;
    extraDeck: Record<string, number>; 

    hasUnownedCards: boolean; 
    createdAt: string; 
    updatedAt: string; 
}

// ä»–ã®DBãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆä¾‹: UserSettings, DeckDataãªã©ï¼‰ã®å‹ã‚‚ã“ã“ã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚



// src/models/deck.ts
/**
 * ãƒ‡ãƒƒã‚­ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®å‹å®šç¾©
 * TCGã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã®ãƒ‡ãƒƒã‚­ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’å®šç¾©ã™ã‚‹
 */
export interface Deck {
    deckId: string;
    name: string;
    description: string;
    
    // ãƒ‡ãƒƒã‚­ã«å«ã¾ã‚Œã‚‹ã‚«ãƒ¼ãƒ‰ã¨æšæ•°
    // key: cardId (string), value: count (number)
    // Mapã‚’ä½¿ç”¨ã—ã¦ã€ç·¨é›†æ™‚ã‚„æ¤œç´¢æ™‚ã«é«˜é€Ÿãªã‚¢ã‚¯ã‚»ã‚¹ã‚’å¯èƒ½ã«ã™ã‚‹
    mainDeck: Map<string, number>;
    sideDeck: Map<string, number>;
    extraDeck: Map<string, number>; // TCGã«ã‚ˆã£ã¦ã¯ã‚¨ã‚¯ã‚¹ãƒˆãƒ©ãƒ‡ãƒƒã‚­ã®æ¦‚å¿µãŒã‚ã‚‹

    // ğŸ’¡ æ–°è¦è¿½åŠ : ãƒ‡ãƒƒã‚­ã«æœªæ‰€æœ‰ã‚«ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã®çŠ¶æ…‹
    hasUnownedCards: boolean; 
    // ğŸ’¡ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³) ã©ã®ã‚«ãƒ¼ãƒ‰ãŒæœªæ‰€æœ‰ã‹å…·ä½“çš„ãªæƒ…å ±ã‚’æŒã£ã¦ã‚‚è‰¯ã„ãŒã€ä»Šå›ã¯booleanã§ã‚·ãƒ³ãƒ—ãƒ«ã«

    // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
    createdAt: string; // ISO 8601å½¢å¼ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
    updatedAt: string; // ISO 8601å½¢å¼ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
}




// src/models/pack.ts
/**
 * ãƒ‘ãƒƒã‚¯ã®æƒ…å ±ã«é–¢ã™ã‚‹å‹å®šç¾©
 */
export type PackType = 'Booster' | 'ConstructedDeck' | 'Other';

export interface RarityConfig {
  rarityName: string; // ä¾‹: 'Common', 'Rare'
  probability: number; // å°å…¥ç¢ºç‡ (0.0 ã‹ã‚‰ 1.0 ã®é–“)
}

export interface Pack {
  packId: string; // ãƒ‘ãƒƒã‚¯ID (ãƒ¦ãƒ‹ãƒ¼ã‚¯ID, è‡ªå‹•ç”Ÿæˆ)
  name: string;
  series: string; // TCGã‚·ãƒªãƒ¼ã‚ºå
  packType: PackType;
  cardsPerPack: number; // 1ãƒ‘ãƒƒã‚¯ã‚ãŸã‚Šã®å°å…¥æšæ•°
  rarityConfig: RarityConfig[]; // ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã¨å°å…¥ç¢ºç‡ã®é…åˆ—
  totalCards: number; // åéŒ²ã‚«ãƒ¼ãƒ‰ç·æ•° (è‡ªå‹•é›†è¨ˆ)
  imageUrl: string; // æ‹¡å¼µãƒ‘ãƒƒã‚¯ç”»åƒã®å‚ç…§URL
  cardBackUrl: string; // ã‚«ãƒ¼ãƒ‰è£é¢ç”»åƒã®å‚ç…§URL
  price: number; // ã‚²ãƒ¼ãƒ å†…é€šè²¨ã§ã®ä¾¡æ ¼
  description: string;
  // ğŸ’¡ æ–°è¦è¿½åŠ : é–‹å°æ¸ˆã¿ãƒ•ãƒ©ã‚°
  isOpened: boolean;
  releaseDate: string; // ISO 8601å½¢å¼ã®ç™ºå£²æ—¥
  userCustom: Record<string, any>; // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ¬ã‚®ãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ï¼‰
}